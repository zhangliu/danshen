<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=QED9gvY4qVwPLtmWcdB1oZAegDAjWeSs"></script>
  </head>
  <body>
    <div id="map"></div>
    <script type="text/javascript">
      var map = new BMapGL.Map("map");
      var geolocation = new BMapGL.Geolocation();
      geolocation.getCurrentPosition(function(r){
          if(this.getStatus() == BMAP_STATUS_SUCCESS){
              var mk = new BMapGL.Marker(r.point);
              map.addOverlay(mk);
              map.panTo(r.point);
              alert(JSON.stringify(r))
          }
          else {
            console.log('failed' + this.getStatus())
          }        
      });
    </script>
  </body>
</html>
